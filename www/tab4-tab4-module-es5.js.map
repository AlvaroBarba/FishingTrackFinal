{"version":3,"sources":["webpack:///src/app/tab4/tab4.page.html","webpack:///src/app/services/auth.service.ts","webpack:///src/app/services/http.service.ts","webpack:///src/app/services/popover.service.ts","webpack:///src/app/tab4/tab4-routing.module.ts","webpack:///src/app/tab4/tab4.module.ts","webpack:///src/app/tab4/tab4.page.scss","webpack:///src/app/tab4/tab4.page.ts"],"names":["AuthService","storage","router","user","id","username","password","avatar","setItem","navigate","route","isLogged","providedIn","HttpService","http","ip","apiKey","pass","url","post","get","photo","idUser1","idUser2","status","idUser","title","coordinates","description","image","idPhoto","idRoute","put","id2","idFriend","id_photo","id_user","PopoverService","popover","ev","create","component","event","pop","present","routes","path","Tab4PageRoutingModule","imports","forChild","exports","Tab4PageModule","declarations","Tab4Page","authS","camera","croppedImagepath","isLoading","imagePickerOptions","maximumImagesCount","quality","usuario","getUser","console","error","createPopover","logout","undefined","myphoto","addAvatar","then","data","dat","JSON","parse","options","destinationType","DestinationType","DATA_URL","sourceType","PictureSourceType","PHOTOLIBRARY","saveToPhotoAlbum","getPicture","imageData","newAvatar","err","log","addPhoto","newPhoto","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCQFA,WAAW;AAStB,6BAAoBC,OAApB,EACUC,MADV,EAC0B;AAAA;;AADN,eAAAD,OAAA,GAAAA,OAAA;AACV,eAAAC,MAAA,GAAAA,MAAA;AARH,eAAAC,IAAA,GAAO;AACZC,cAAE,EAAE,CAAC,CADO;AAEZC,oBAAQ,EAAE,EAFE;AAGZC,oBAAQ,EAAE,EAHE;AAIZC,kBAAM,EAAE;AAJI,WAAP;AASN;;AAXqB;AAAA;AAAA,mCAaA;;;;;;AACpB,2BAAKJ,IAAL,GAAY;AACVC,0BAAE,EAAE,CAAC,CADK;AAEVC,gCAAQ,EAAE,EAFA;AAGVC,gCAAQ,EAAE,EAHA;AAIVC,8BAAM,EAAE;AAJE,uBAAZ;;AAMA,6BAAM,KAAKN,OAAL,CAAaO,OAAb,CAAqB,MAArB,EAA6B,KAAKL,IAAlC,CAAN;;;AACA,2BAAKD,MAAL,CAAYO,QAAZ,CAAqB,CAAC,OAAD,CAArB;;;;;;;;;AACD;AAtBqB;AAAA;AAAA,gCAwBHN,IAxBG,EAwBS;;;;;;;AACjB,6BAAM,KAAKF,OAAL,CAAaO,OAAb,CAAqB,MAArB,EAA6BL,IAA7B,CAAN;;;AAAZ,2BAAKA,I;AACL,2BAAKD,MAAL,CAAYO,QAAZ,CAAqB,CAAC,GAAD,CAArB;;;;;;;;;AACD;AA3BqB;AAAA;AAAA,sCA6BVC,KA7BU,EA6BmB;AACvC,gBAAI,CAAC,KAAKC,QAAL,EAAL,EAAsB;AACpB,mBAAKT,MAAL,CAAYO,QAAZ,CAAqB,CAAC,SAAD,CAArB;AACA,qBAAO,KAAP;AACD;;AACD,mBAAO,IAAP;AACD;AAnCqB;AAAA;AAAA,qCAqCd;AACN,gBAAG,KAAKN,IAAL,CAAUC,EAAV,IAAc,CAAC,CAAlB,EAAoB;AAClB,qBAAO,IAAP;AACD,aAFD,MAEK;AACH,qBAAO,KAAP;AACD;AACF;AA3CqB;AAAA;AAAA,oCA6CZ;AACR,mBAAO,KAAKD,IAAZ;AACD;AA/CqB;;AAAA;AAAA,S;;;;gBANf;;gBADqC;;;;AAOjCH,iBAAW,6DAHvB,iEAAW;AACVY,kBAAU,EAAE;AADF,OAAX,CAGuB,GAAXZ,WAAW,CAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCFAa,WAAW;AAKtB,6BAAoBC,IAApB,EAAgC;AAAA;;AAAZ,eAAAA,IAAA,GAAAA,IAAA;AAHb,eAAAC,EAAA,GAAK,oDAAL;AACP,eAAAC,MAAA,GAAS,kBAAT;AAEmC,SALb,CAOtB;;;AAPsB;AAAA;AAAA,kCASPX,QATO,EASWY,IATX,EASuB;AAC3C,gBAAIC,GAAG,GAAG,KAAKH,EAAL,GAAU,OAApB;AACA,mBAAO,KAAKD,IAAL,CAAUK,IAAV,CAAeD,GAAf,EAAoB;AAAE,0BAAYb,QAAd;AAAwB,0BAAYY;AAApC,aAApB,EAAgE;AAAE,wBAAU,KAAKD;AAAjB,aAAhE,CAAP;AACD;AAZqB;AAAA;AAAA,4CAcGX,QAdH,EAcmB;AACvC,gBAAIa,GAAG,GAAG,KAAKH,EAAL,GAAU,QAAV,GAAqBV,QAA/B;AACA,mBAAO,KAAKS,IAAL,CAAUM,GAAV,CAAcF,GAAd,EAAmB,EAAnB,EAAuB;AAAE,wBAAU,KAAKF;AAAjB,aAAvB,CAAP;AACD;AAjBqB;AAAA;AAAA,qCAmBJZ,EAnBI,EAmBG;AACvB,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,UAAV,GAAuBX,EAAjC;AACA,mBAAO,KAAKU,IAAL,CAAUM,GAAV,CAAcF,GAAd,EAAmB,EAAnB,EAAuB;AAAE,wBAAU,KAAKF;AAAjB,aAAvB,CAAP;AACD;AAtBqB;AAAA;AAAA,2CAwBEZ,EAxBF,EAwBS;AAC7B,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,wBAAV,GAAqCX,EAA/C;AACA,mBAAO,KAAKU,IAAL,CAAUM,GAAV,CAAcF,GAAd,EAAmB,EAAnB,EAAuB;AAAE,wBAAU,KAAKF;AAAjB,aAAvB,CAAP;AACD;AA3BqB;AAAA;AAAA,oCA6BLZ,EA7BK,EA6BE;AACtB,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,SAAV,GAAsBX,EAAhC;AACA,mBAAO,KAAKU,IAAL,CAAUM,GAAV,CAAcF,GAAd,EAAmB,EAAnB,EAAuB;AAAE,wBAAU,KAAKF;AAAjB,aAAvB,CAAP;AACD;AAhCqB;AAAA;AAAA,oCAkCLZ,EAlCK,EAkCE;AACtB,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,SAAV,GAAsBX,EAAhC;AACA,mBAAO,KAAKU,IAAL,CAAUM,GAAV,CAAcF,GAAd,EAAmB,EAAnB,EAAuB;AAAE,wBAAU,KAAKF;AAAjB,aAAvB,CAAP;AACD;AArCqB;AAAA;AAAA,kCAuCPZ,EAvCO,EAuCA;AACpB,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,aAApB;AACA,mBAAO,KAAKD,IAAL,CAAUM,GAAV,CAAcF,GAAd,EAAmB;AAAE,0BAAYd;AAAd,aAAnB,EAAuC;AAAE,wBAAU,KAAKY;AAAjB,aAAvC,CAAP;AACD,WA1CqB,CA4CtB;;AA5CsB;AAAA;AAAA,kCA8CPX,QA9CO,EA8CWC,QA9CX,EA8C2B;AAC/C,gBAAIY,GAAG,GAAG,KAAKH,EAAL,GAAU,gBAApB;AACA,mBAAO,KAAKD,IAAL,CAAUK,IAAV,CAAeD,GAAf,EAAoB;AAAE,0BAAYb,QAAd;AAAwB,0BAAYC;AAApC,aAApB,EAAoE;AAAE,wBAAU,KAAKU;AAAjB,aAApE,CAAP;AACD;AAjDqB;AAAA;AAAA,oCAmDLK,KAnDK,EAmDUjB,EAnDV,EAmDgB;AACpC,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,cAApB;AACA,mBAAO,KAAKD,IAAL,CAAUK,IAAV,CAAeD,GAAf,EAAoB;AAAC,wBAAUG,KAAX;AAAkB,oBAAKjB;AAAvB,aAApB,EAAgD;AAAE,wBAAU,KAAKY;AAAjB,aAAhD,CAAP;AACD;AAtDqB;AAAA;AAAA,2CAwDEM,OAxDF,EAwDgBC,OAxDhB,EAwD8BC,MAxD9B,EAwD4C;AAChE,gBAAIN,GAAG,GAAG,KAAKH,EAAL,GAAU,uBAApB;AACA,mBAAO,KAAKD,IAAL,CAAUK,IAAV,CAAeD,GAAf,EAAoB;AAAE,yBAAWI,OAAb;AAAsB,yBAAWC,OAAjC;AAA0C,8BAAgBC;AAA1D,aAApB,EAAwF;AAAE,wBAAU,KAAKR;AAAjB,aAAxF,CAAP;AACD;AA3DqB;AAAA;AAAA,mCA6DNS,MA7DM,EA6DOC,KA7DP,EA6DsBC,WA7DtB,EA6DsC;AAC1D,gBAAIT,GAAG,GAAG,KAAKH,EAAL,GAAU,YAApB;AACA,mBAAO,KAAKD,IAAL,CAAUK,IAAV,CAAeD,GAAf,EAAoB;AAAE,wBAAUO,MAAZ;AAAoB,uBAASC,KAA7B;AAAoC,6BAAeC;AAAnD,aAApB,EAAsF;AAAE,wBAAU,KAAKX;AAAjB,aAAtF,CAAP;AACD;AAhEqB;AAAA;AAAA,mCAkENS,MAlEM,EAkEOC,KAlEP,EAkEsBE,WAlEtB,EAkEwCC,KAlExC,EAkEkD;AACtE,gBAAIX,GAAG,GAAG,KAAKH,EAAL,GAAU,YAApB;AACA,mBAAO,KAAKD,IAAL,CAAUK,IAAV,CAAeD,GAAf,EAAoB;AAAE,wBAAUO,MAAZ;AAAoB,uBAASC,KAA7B;AAAoC,6BAAeE,WAAnD;AAAgE,qBAAOC;AAAvE,aAApB,EAAoG;AAAE,wBAAU,KAAKb;AAAjB,aAApG,CAAP;AACD;AArEqB;AAAA;AAAA,0CAuECc,OAvED,EAuEeC,OAvEf,EAuE2B;AAC/C,gBAAIb,GAAG,GAAG,KAAKH,EAAL,GAAU,iBAApB;AACA,mBAAO,KAAKD,IAAL,CAAUK,IAAV,CAAeD,GAAf,EAAoB;AAAE,yBAAWY,OAAb;AAAsB,yBAAWC;AAAjC,aAApB,EAAgE;AAAE,wBAAU,KAAKf;AAAjB,aAAhE,CAAP;AACD;AA1EqB;AAAA;AAAA,kCA4EPc,OA5EO,EA4EOL,MA5EP,EA4EkB;AACtC,gBAAIP,GAAG,GAAG,KAAKH,EAAL,GAAU,aAApB;AACA,mBAAO,KAAKD,IAAL,CAAUK,IAAV,CAAeD,GAAf,EAAoB;AAAE,0BAAYY,OAAd;AAAuB,yBAAWL;AAAlC,aAApB,EAAgE;AAAE,wBAAU,KAAKT;AAAjB,aAAhE,CAAP;AACD,WA/EqB,CAkFtB;;AAlFsB;AAAA;AAAA,qCAoFJV,QApFI,EAoFcD,QApFd,EAoF8B;AAClD,gBAAIa,GAAG,GAAG,KAAKH,EAAL,GAAU,sBAApB;AACA,mBAAO,KAAKD,IAAL,CAAUkB,GAAV,CAAcd,GAAd,EAAmB;AAAE,0BAAYZ,QAAd;AAAwB,0BAAYD;AAApC,aAAnB,EAAmE;AAAE,wBAAU,KAAKW;AAAjB,aAAnE,CAAP;AACD;AAvFqB;AAAA;AAAA,uCAyFFZ,EAzFE,EAyFOoB,MAzFP,EAyFuBS,GAzFvB,EAyF+B;AACnD,gBAAIf,GAAG,GAAG,KAAKH,EAAL,GAAU,sBAApB;AACA,mBAAO,KAAKD,IAAL,CAAUkB,GAAV,CAAcd,GAAd,EAAmB;AAAE,oBAAMd,EAAR;AAAY,8BAAgBoB,MAA5B;AAAoC,qBAAOS;AAA3C,aAAnB,EAAqE;AAAE,wBAAU,KAAKjB;AAAjB,aAArE,CAAP;AACD;AA5FqB;AAAA;AAAA,sCA8FHZ,EA9FG,EA8FMsB,KA9FN,EA8FmB;AACvC,gBAAIR,GAAG,GAAG,KAAKH,EAAL,GAAU,eAApB;AACA,mBAAO,KAAKD,IAAL,CAAUkB,GAAV,CAAcd,GAAd,EAAmB;AAAE,oBAAMd,EAAR;AAAY,uBAASsB;AAArB,aAAnB,EAAiD;AAAE,wBAAU,KAAKV;AAAjB,aAAjD,CAAP;AACD;AAjGqB;AAAA;AAAA,sCAmGHZ,EAnGG,EAmGMsB,KAnGN,EAmGqBE,WAnGrB,EAmGwC;AAC5D,gBAAIV,GAAG,GAAG,KAAKH,EAAL,GAAU,eAApB;AACA,mBAAO,KAAKD,IAAL,CAAUkB,GAAV,CAAcd,GAAd,EAAmB;AAAE,oBAAMd,EAAR;AAAY,uBAASsB,KAArB;AAA4B,6BAAeE;AAA3C,aAAnB,EAA6E;AAAE,wBAAU,KAAKZ;AAAjB,aAA7E,CAAP;AACD,WAtGqB,CAwGtB;;AAxGsB;AAAA;AAAA,qCA0GJZ,EA1GI,EA0GG;AACvB,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,uBAAV,GAAoCX,EAA9C;AACA,mBAAO,KAAKU,IAAL,WAAiBI,GAAjB,EAAsB,EAAtB,EAA0B;AAAE,wBAAU,KAAKF;AAAjB,aAA1B,CAAP;AACD;AA7GqB;AAAA;AAAA,uCA+GFZ,EA/GE,EA+GO8B,QA/GP,EA+GoB;AACxC,gBAAIhB,GAAG,GAAG,KAAKH,EAAL,GAAU,QAAV,GAAqBX,EAArB,GAA0B,UAA1B,GAAuC8B,QAAjD;AACA,mBAAO,KAAKpB,IAAL,WAAiBI,GAAjB,EAAsB,EAAtB,EAA0B;AAAE,wBAAU,KAAKF;AAAjB,aAA1B,CAAP;AACD;AAlHqB;AAAA;AAAA,sCAoHHZ,EApHG,EAoHI;AACxB,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,gBAAV,GAA6BX,EAAvC;AACA,mBAAO,KAAKU,IAAL,WAAiBI,GAAjB,EAAsB,EAAtB,EAA0B;AAAE,wBAAU,KAAKF;AAAjB,aAA1B,CAAP;AACD;AAvHqB;AAAA;AAAA,sCAyHHZ,EAzHG,EAyHI;AACxB,gBAAIc,GAAG,GAAG,KAAKH,EAAL,GAAU,gBAAV,GAA6BX,EAAvC;AACA,mBAAO,KAAKU,IAAL,WAAiBI,GAAjB,EAAsB,EAAtB,EAA0B;AAAE,wBAAU,KAAKF;AAAjB,aAA1B,CAAP;AACD;AA5HqB;AAAA;AAAA,qCA8HJmB,QA9HI,EA8HWC,OA9HX,EA8HuB;AAC3C,gBAAIlB,GAAG,GAAG,KAAKH,EAAL,GAAU,aAApB;AACA,mBAAO,KAAKD,IAAL,WAAiBI,GAAjB,EAAsB;AAAE,0BAAYiB,QAAd;AAAwB,yBAAWC;AAAnC,aAAtB,EAAoE;AAAE,wBAAU,KAAKpB;AAAjB,aAApE,CAAP;AACD;AAjIqB;;AAAA;AAAA,S;;;;gBALf;;;;AAKIH,iBAAW,6DAHvB,iEAAW;AACVD,kBAAU,EAAE;AADF,OAAX,CAGuB,GAAXC,WAAW,CAAX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCCAwB,cAAc;AAEzB,gCAAoBC,OAApB,EAAiD;AAAA;;AAA7B,eAAAA,OAAA,GAAAA,OAAA;AAAgC;;AAF3B;AAAA;AAAA,wCAILC,EAJK,EAIF;;;;;;;;AACT,6BAAM,KAAKD,OAAL,CAAaE,MAAb,CAAoB;AACpCC,iCAAS,EAAE,kGADyB;AAEpCC,6BAAK,EAAEH;AAF6B,uBAApB,CAAN;;;AAANI,yB;;AAIC,6BAAMA,GAAG,CAACC,OAAJ,EAAN;;;;;;;;;;;;AACR;AAVwB;;AAAA;AAAA,S;;;;gBANlB;;;;AAMIP,oBAAc,6DAH1B,iEAAW;AACVzB,kBAAU,EAAE;AADF,OAAX,CAG0B,GAAdyB,cAAc,CAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFb,UAAMQ,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEL,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaM,qBAAqB;AAAA;AAAA,O;;AAArBA,2BAAqB,6DAJjC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERK,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,cAAc;AAAA;AAAA,O;;AAAdA,oBAAc,6DAT1B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,0EAJO,CADD;AAORI,oBAAY,EAAE,CAAC,mDAAD;AAPN,OAAT,CAS0B,GAAdD,cAAc,CAAd;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCkBFE,QAAQ;AAenB,0BACUf,OADV,EAEUgB,KAFV,EAGUpD,MAHV,EAIUqD,MAJV,EAKUzC,IALV,EAK0B;AAAA;;AAJhB,eAAAwB,OAAA,GAAAA,OAAA;AACA,eAAAgB,KAAA,GAAAA,KAAA;AACA,eAAApD,MAAA,GAAAA,MAAA;AACA,eAAAqD,MAAA,GAAAA,MAAA;AACA,eAAAzC,IAAA,GAAAA,IAAA;AAdV,eAAA0C,gBAAA,GAAmB,EAAnB;AACA,eAAAC,SAAA,GAAY,KAAZ;AAEA,eAAAC,kBAAA,GAAqB;AACnBC,8BAAkB,EAAE,CADD;AAEnBC,mBAAO,EAAE;AAFU,WAArB;AAYE,eAAKC,OAAL,GAAeP,KAAK,CAACQ,OAAN,EAAf;AACD;;AAtBkB;AAAA;AAAA,qCA0BR;AACTC,mBAAO,CAACC,KAAR,CAAc,YAAY,KAAKH,OAAL,CAAatD,MAAvC;AACAwD,mBAAO,CAACC,KAAR,CAAc,cAAc,KAAKH,OAAL,CAAaxD,QAAzC;AACA,iBAAKE,MAAL;AACD;AA9BkB;AAAA;AAAA,sCAgCDgC,EAhCC,EAgCC;;;;;;AAClB,2BAAKD,OAAL,CAAa2B,aAAb,CAA2B1B,EAA3B;;;;;;;;;AACD;AAlCkB;AAAA;AAAA,mCAoCA;;;;;;;AACjB,6BAAM,KAAKe,KAAL,CAAWY,MAAX,EAAN;;;AACA,0BAAG,CAAC,KAAKZ,KAAL,CAAW3C,QAAX,EAAJ,EAA0B;AACxB,6BAAKT,MAAL,CAAYO,QAAZ,CAAqB,CAAC,QAAD,CAArB;AACD;;;;;;;;;AACF;AAzCkB;AAAA;AAAA,mCA2CN;AACX,gBAAG,KAAKoD,OAAL,CAAatD,MAAb,IAAuB4D,SAAvB,IAAoC,KAAKN,OAAL,CAAatD,MAAb,IAAuB,EAA9D,EAAiE;AAC/D,mBAAK6D,OAAL,GAAe,yBAAf;AACD,aAFD,MAEK;AACH,mBAAKA,OAAL,GAAe,KAAKP,OAAL,CAAatD,MAA5B;AACD;AACD;AAjDiB;AAAA;AAAA,oCAmDDc,KAnDC,EAmDI;AACpB,iBAAKP,IAAL,CAAUuD,SAAV,CAAoBhD,KAApB,EAA2B,KAAKwC,OAAL,CAAazD,EAAxC,EAA4CkE,IAA5C,CAAiD,UAACC,IAAD,EAAQ;AACvD,kBAAGA,IAAH,EAAQ;AACN,oBAAIC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,CAACA,IAAhB,CAAV;;AACA,oBAAGC,GAAG,CAAChD,MAAJ,IAAY,GAAf,EAAmB;AACjB;AACA;AACAuC,yBAAO,CAACC,KAAR,CAAc,wBAAd;AACD;AACF;AACF,aATD;AAUD;AA9DiB;AAAA;AAAA,qCAgEV;AAAA;;AACP,gBAAMW,OAAO,GAAkB;AAC7Bf,qBAAO,EAAE,EADoB;AAE7BgB,6BAAe,EAAE,KAAKrB,MAAL,CAAYsB,eAAZ,CAA4BC,QAFhB;AAG7BC,wBAAU,EAAE,KAAKxB,MAAL,CAAYyB,iBAAZ,CAA8BC,YAHb;AAI7BC,8BAAgB,EAAC;AAJY,aAA/B;AAMA,mBAAO,KAAK3B,MAAL,CAAY4B,UAAZ,CAAuBR,OAAvB,EAAgCL,IAAhC,CAAqC,UAACc,SAAD,EAAe;AACxD,mBAAI,CAAChB,OAAL,GAAe,4BAA4BgB,SAA3C;;AACA,mBAAI,CAACC,SAAL,CAAe,KAAI,CAACjB,OAApB;AACI,aAHA,EAGE,UAACkB,GAAD,EAAS;AAChBvB,qBAAO,CAACwB,GAAR,CAAYD,GAAZ;AACD,aALM,CAAP;AAMD;AA7EkB;AAAA;AAAA,mCA+EHjE,KA/EG,EA+EE;AACnB,iBAAKP,IAAL,CAAU0E,QAAV,CAAmB,KAAK3B,OAAL,CAAazD,EAAhC,EAAmC,QAAnC,EAA4C,QAA5C,EAAqDiB,KAArD,EAA6DiD,IAA7D,CAAkE,UAACC,IAAD,EAAQ;AACxE,kBAAGA,IAAH,EAAQ;AACN,oBAAIC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,CAACA,IAAhB,CAAV;;AACA,oBAAGC,GAAG,CAAChD,MAAJ,IAAY,GAAf,EAAmB;AACjB;AACA;AACAuC,yBAAO,CAACC,KAAR,CAAc,wBAAd;AACD;AACF;AACF,aATD;AAUD;AA1FkB;AAAA;AAAA,yCA6FP;AAAA;;AACV,gBAAMW,OAAO,GAAkB;AAC7Bf,qBAAO,EAAE,EADoB;AAE7BgB,6BAAe,EAAE,KAAKrB,MAAL,CAAYsB,eAAZ,CAA4BC,QAFhB;AAG7BC,wBAAU,EAAE,KAAKxB,MAAL,CAAYyB,iBAAZ,CAA8BC,YAHb;AAI7BC,8BAAgB,EAAC;AAJY,aAA/B;AAMA,mBAAO,KAAK3B,MAAL,CAAY4B,UAAZ,CAAuBR,OAAvB,EAAgCL,IAAhC,CAAqC,UAACc,SAAD,EAAe;AACxD,oBAAI,CAAChB,OAAL,GAAe,4BAA4BgB,SAA3C;;AACA,oBAAI,CAACK,QAAL,CAAc,MAAI,CAACrB,OAAnB;AACI,aAHA,EAGE,UAACkB,GAAD,EAAS;AAChBvB,qBAAO,CAACwB,GAAR,CAAYD,GAAZ;AACD,aALM,CAAP;AAMD;AA1GkB;;AAAA;AAAA,S;;;;gBAbZ;;gBADA;;gBAFA;;gBAIA;;gBAIA;;;;AAQIjC,cAAQ,6DALpB,gEAAU;AACTqC,gBAAQ,EAAE,UADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,0FAFS;;;;AAAA,OAAV,CAKoB,GAARtC,QAAQ,CAAR","file":"tab4-tab4-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar class=\\\"background-toolbar\\\">\\n    <ion-title class=\\\"textColor\\\">\\n      PERFIL\\n    </ion-title>\\n  </ion-toolbar>\\n  <ion-card color=\\\"light\\\">\\n      <div class=\\\"img-wrapper\\\">\\n        <ion-avatar slot=\\\"start\\\" (click)=\\\"this.getImage()\\\">\\n          <img src=\\\"{{this.myphoto}}\\\">\\n        </ion-avatar>\\n      </div>\\n    <ion-card-content class=\\\"ion-text-center\\\">\\n      <h2 style=\\\"margin-top: 5%;\\\">{{this.usuario.username}}</h2>\\n      <ion-text color=\\\"medium\\\">\\n      </ion-text>\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-list>\\n    <ion-item>\\n      <ion-icon slot=\\\"end\\\" name=\\\"chevron-forward-sharp\\\"></ion-icon>\\n      <ion-label>Fotos</ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-icon slot=\\\"end\\\" name=\\\"chevron-forward-sharp\\\"></ion-icon>\\n      <ion-label>Rutas</ion-label>\\n    </ion-item>\\n    <ion-item>\\n      <ion-icon slot=\\\"end\\\" name=\\\"chevron-forward-sharp\\\"></ion-icon>\\n      <ion-label>Todo</ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <ion-list>\\n    <ion-label></ion-label>\\n    <ion-item>\\n      <ion-button (click)=\\\"this.insertImagen()\\\" class=\\\"background-button\\\" shape=\\\"round\\\">Subir imagen<ion-icon name=\\\"camera-outline\\\"></ion-icon></ion-button>\\n      <ion-button (click)=\\\"this.logout()\\\" class=\\\"background-button\\\" shape=\\\"round\\\">Cerrar Sesi√≥n<ion-icon\\n          name=\\\"log-out-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-item>\\n  </ion-list>\";","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router } from '@angular/router';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\nimport { User } from '../model/User';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService implements CanActivate {\n\n  public user = {\n    id: -1,\n    username: '',\n    password: '',\n    avatar: ''\n  }\n\n  constructor(private storage: NativeStorage,\n    private router: Router) {\n  }\n\n  public async logout() {\n    this.user = {\n      id: -1,\n      username: '',\n      password: '',\n      avatar: ''\n    }\n    await this.storage.setItem(\"user\", this.user);\n    this.router.navigate([\"login\"]);\n  }\n\n  public async login(user: User) {\n    this.user = await this.storage.setItem(\"user\", user);\n    this.router.navigate([\"/\"]);\n  }\n\n  canActivate(route: ActivatedRouteSnapshot): boolean {\n    if (!this.isLogged()) {\n      this.router.navigate([\"welcome\"]);\n      return false;\n    }\n    return true;\n  }\n\n  isLogged():boolean{\n    if(this.user.id!=-1){\n      return true;\n    }else{\n      return false;\n    }\n  }\n\n  getUser() {\n    return this.user;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HTTP, HTTPResponse } from '@ionic-native/http/ngx';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n\n  public ip = \"https://fishingtrack.duckdns.org:3022/fishingtrack\";\n  apiKey = \"HS$TF{nasiRYDk@#\";\n\n  constructor(private http: HTTP) { }\n\n  //GET methods\n\n  public getUser(username: string, pass: string): Promise<HTTPResponse> {\n    let url = this.ip + '/user';\n    return this.http.post(url, { 'username': username, 'password': pass }, { 'apikey': this.apiKey });\n  }\n\n  public getUserByUsername(username: string): Promise<HTTPResponse> {\n    let url = this.ip + '/user/' + username;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getFriends(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/friend/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getFriendRequest(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/friends/request/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getRoutes(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getPhotos(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getLike(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/like';\n    return this.http.get(url, { 'id_photo': id }, { 'apikey': this.apiKey });\n  }\n\n  //POST methods\n\n  public addUser(username: string, password: string): Promise<HTTPResponse> {\n    let url = this.ip + '/user/register';\n    return this.http.post(url, { 'username': username, 'password': password }, { 'apikey': this.apiKey });\n  }\n\n  public addAvatar(photo: string, id:any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/avatar';\n    return this.http.post(url, {'avatar': photo, 'id':id}, { 'apikey': this.apiKey });\n  }\n\n  public addFriendRequest(idUser1: any, idUser2: any, status: number): Promise<HTTPResponse> {\n    let url = this.ip + '/user/friends/request';\n    return this.http.post(url, { 'idUser1': idUser1, 'idUser2': idUser2, 'friendStatus': status }, { 'apikey': this.apiKey });\n  }\n\n  public addRoute(idUser: any, title: string, coordinates: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/add';\n    return this.http.post(url, { 'idUser': idUser, 'title': title, 'coordinates': coordinates }, { 'apikey': this.apiKey });\n  }\n\n  public addPhoto(idUser: any, title: string, description: any, image: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/add';\n    return this.http.post(url, { 'idUser': idUser, 'title': title, 'description': description, 'url': image }, { 'apikey': this.apiKey });\n  }\n\n  public addPhotoToRoute(idPhoto: any, idRoute: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/newPhoto';\n    return this.http.post(url, { 'idPhoto': idPhoto, 'idRoute': idRoute }, { 'apikey': this.apiKey });\n  }\n\n  public addLike(idPhoto: any, idUser: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/like';\n    return this.http.post(url, { 'id_photo': idPhoto, 'id_user': idUser }, { 'apikey': this.apiKey });\n  }\n\n\n  //PUT methods\n\n  public updateUser(password: string, username: string): Promise<HTTPResponse> {\n    let url = this.ip + '/user/profile/update';\n    return this.http.put(url, { 'password': password, 'username': username }, { 'apikey': this.apiKey });\n  }\n\n  public updateFriend(id: any, status: number, id2: any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/friends/update';\n    return this.http.put(url, { 'id': id, 'friendStatus': status, 'id2': id2 }, { 'apikey': this.apiKey });\n  }\n\n  public updateRoute(id: any, title: string): Promise<HTTPResponse> {\n    let url = this.ip + '/route/update';\n    return this.http.put(url, { 'id': id, 'title': title }, { 'apikey': this.apiKey });\n  }\n\n  public updatePhoto(id: any, title: string, description: string): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/update';\n    return this.http.put(url, { 'id': id, 'title': title, 'description': description }, { 'apikey': this.apiKey });\n  }\n\n  //DELETE methods\n\n  public deleteUser(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/remove/account/' + id;\n    return this.http.delete(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public deleteFriend(id: any, idFriend: any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/' + id + '/friend/' + idFriend;\n    return this.http.delete(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public deleteRoute(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/remove/' + id;\n    return this.http.delete(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public deletePhoto(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/remove/' + id;\n    return this.http.delete(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public deleteLike(id_photo: any, id_user: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/like';\n    return this.http.delete(url, { 'id_photo': id_photo, 'id_user': id_user }, { 'apikey': this.apiKey });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { PopoverController } from '@ionic/angular';\nimport { MenupopoverComponent } from '../components/menupopover/menupopover.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PopoverService {\n\n  constructor(private popover : PopoverController) { }\n\n  async createPopover(ev?){\n    const pop = await this.popover.create({\n      component: MenupopoverComponent,\n      event: ev\n    })\n    return await pop.present();\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { Tab4Page } from './tab4.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab4Page\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class Tab4PageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { Tab4PageRoutingModule } from './tab4-routing.module';\n\nimport { Tab4Page } from './tab4.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    Tab4PageRoutingModule\n  ],\n  declarations: [Tab4Page]\n})\nexport class Tab4PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjQvdGFiNC5wYWdlLnNjc3MifQ== */\";","import { IfStmt } from '@angular/compiler';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User } from '../model/User';\nimport { AuthService } from '../services/auth.service';\nimport { PopoverService } from '../services/popover.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ActionSheetController } from '@ionic/angular';\nimport { File } from '@ionic-native/file/ngx';\nimport { FileTransfer, FileUploadOptions, FileTransferObject} from '@ionic-native/file-transfer/ngx';\nimport { HttpService } from '../services/http.service';\n\n\n@Component({\n  selector: 'app-tab4',\n  templateUrl: './tab4.page.html',\n  styleUrls: ['./tab4.page.scss'],\n})\nexport class Tab4Page implements OnInit {\n\n  usuario : User;\n  \n  myphoto:any;\n\n  croppedImagepath = \"\";\n  isLoading = false;\n\n  imagePickerOptions = {\n    maximumImagesCount: 1,\n    quality: 50\n  };\n\n\n  constructor(\n    private popover:PopoverService,\n    private authS: AuthService, \n    private router: Router, \n    private camera: Camera,\n    private http:HttpService  ) { \n    this.usuario = authS.getUser();\n  }\n\n\n\n  ngOnInit() {\n    console.error(\"avatar \" + this.usuario.avatar);\n    console.error(\"username \" + this.usuario.username);\n    this.avatar();\n  }\n\n  async showPopover(ev){\n    this.popover.createPopover(ev);\n  }\n\n  public async logout(){\n    await this.authS.logout();\n    if(!this.authS.isLogged()){\n      this.router.navigate(['/login'])\n    }\n  }\n\n  public avatar(){\n    if(this.usuario.avatar == undefined || this.usuario.avatar == \"\"){\n      this.myphoto = \"assets/icon/usuario.svg\";\n    }else{\n      this.myphoto = this.usuario.avatar;\n    }\n   }\n\n   public newAvatar(photo){\n     this.http.addAvatar(photo, this.usuario.id).then((data)=>{\n       if(data){\n         let dat = JSON.parse(data.data);\n         if(dat.status!=\"0\"){\n           //Error\n           //toast error al subir foto\n           console.error(\"Error subiendo foto...\");\n         }\n       }\n     })\n   }\n\n   getImage():Promise<void> {\n    const options: CameraOptions = {\n      quality: 10,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      saveToPhotoAlbum:false\n    }\n    return this.camera.getPicture(options).then((imageData) => {\n       this.myphoto = 'data:image/jpeg;base64,' + imageData;\n       this.newAvatar(this.myphoto);\n          }, (err) => {\n      console.log(err)\n    });\n  }\n\n  public newPhoto(photo){\n    this.http.addPhoto(this.usuario.id,\"titulo\",\"prueba\",photo ).then((data)=>{\n      if(data){\n        let dat = JSON.parse(data.data);\n        if(dat.status!=\"0\"){\n          //Error\n          //toast error al subir foto\n          console.error(\"Error subiendo foto...\");\n        }\n      }\n    })\n  }\n\n\n  insertImagen():Promise<void> {\n    const options: CameraOptions = {\n      quality: 10,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      saveToPhotoAlbum:false\n    }\n    return this.camera.getPicture(options).then((imageData) => {\n       this.myphoto = 'data:image/jpeg;base64,' + imageData;\n       this.newPhoto(this.myphoto);\n          }, (err) => {\n      console.log(err)\n    });\n  }\n\n}\n"]}
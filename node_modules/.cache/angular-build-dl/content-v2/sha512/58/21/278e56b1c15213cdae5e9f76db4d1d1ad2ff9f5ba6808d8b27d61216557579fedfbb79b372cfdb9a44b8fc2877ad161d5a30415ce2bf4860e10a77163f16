{"version":3,"sources":["webpack:///src/app/components/mapa/mapa.component.html","webpack:///src/app/tab1/tab1.page.html","webpack:///src/app/components/mapa/mapa.component.scss","webpack:///src/app/components/mapa/mapa.component.ts","webpack:///src/app/tab1/tab1-routing.module.ts","webpack:///src/app/tab1/tab1.module.ts","webpack:///src/app/tab1/tab1.page.scss","webpack:///src/app/tab1/tab1.page.ts"],"names":["MapaComponent","created","createMap","console","log","line","myLine","asFeature","properties","miMapa","setView","attribution","addTo","setTimeout","invalidateSize","selector","template","routes","path","component","Tab1PageRoutingModule","imports","forChild","exports","Tab1PageModule","declarations","Tab1Page","router","popover","http","authS","camera","paraTi","fotos","rutas","friends","friendsRoutes","mapas","you","getUser","getFriends","getOwnRoutes","id","getRoutes","then","data","dat","JSON","parse","status","result","forEach","element","route","title","username","avatar","coordinates","push","error","err","aux","getFriendsRoutes","length","friend","ev","createPopover"],"mappings":"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","file":"tab1-tab1-module-es5.js","sourcesContent":["export default \"<ion-card>\\r\\n  <ion-card-header>\\r\\n    <ion-card-title>{{this.title}}</ion-card-title>\\r\\n  </ion-card-header>\\r\\n  <ion-card-content>\\r\\n    <div id=\\\"miMapa\\\" style=\\\"height: fit-content; width: fit-content;\\\">\\r\\n      content\\r\\n    </div>\\r\\n  </ion-card-content>\\r\\n</ion-card>\";","export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar class=\\\"background-toolbar\\\">\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button (click)=\\\"showPopover($event)\\\">\\r\\n        <ion-icon name=\\\"ellipsis-vertical\\\" class=\\\"iconos\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title class=\\\"textColor\\\">\\r\\n      NOVEDADES\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar class=\\\"background-toolbar\\\">\\r\\n    <ion-segment value=\\\"all\\\">\\r\\n      <ion-segment-button value=\\\"parati\\\" class=\\\"background-button-toolbar1\\\" (click)='this.pestanaParaTi()'>\\r\\n        PARA TI\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button value=\\\"fotos\\\" class=\\\"background-button-toolbar\\\" (click)='this.pestanaFotos()'>\\r\\n        FOTOS\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button value=\\\"rutas\\\" class=\\\"background-button-toolbar\\\" (click)='this.pestanaRutas()'>\\r\\n        RUTAS\\r\\n      </ion-segment-button>\\r\\n    </ion-segment>\\r\\n  </ion-toolbar>\\r\\n\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\" *ngIf='this.paraTi'>\\r\\n  <ion-list *ngFor=\\\"let Route of this.friendsRoutes; let i=index;\\\">\\r\\n    <ion-item>\\r\\n      <ion-card>\\r\\n        <ion-card-header>\\r\\n          <ion-card-title>\\r\\n            {{Route.title}}\\r\\n          </ion-card-title>\\r\\n        </ion-card-header>\\r\\n      </ion-card>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\" *ngIf='this.fotos'>\\r\\n  <ion-card>\\r\\n        <img src=\\\"{{this.myphoto}}\\\" />\\r\\n        <ion-card-header>\\r\\n          <ion-card-title>Título de la ruta</ion-card-title>\\r\\n          <ion-card-subtitle>{{this.you.username}}</ion-card-subtitle>\\r\\n        </ion-card-header>\\r\\n      </ion-card>\\r\\n</ion-content>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\" *ngIf='this.rutas'>\\r\\n  <ion-list *ngFor=\\\"let Route of this.routes; let i=index;\\\">\\r\\n    <ion-item>\\r\\n        <app-mapa line=\\\"{{this.Route.coordinates}}\\\" title=\\\"this.title\\\"></app-mapa>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvbWFwYS9tYXBhLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, Input, OnInit } from '@angular/core';\r\nimport { BackgroundGeolocation } from '@ionic-native/background-geolocation/ngx';\r\nimport { geoJSON, GeoJSON, Map, tileLayer } from 'leaflet';\r\n\r\n@Component({\r\n  selector: 'app-mapa',\r\n  templateUrl: './mapa.component.html',\r\n  styleUrls: ['./mapa.component.scss'],\r\n})\r\nexport class MapaComponent implements OnInit {\r\n\r\n  created = false;\r\n  miMapa:Map;\r\n  @Input() line: any\r\n  title:string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.createMap();\r\n  }\r\n\r\n  public createMap() {\r\n    console.log(\"la linea -> \" + this.line);\r\n    let myLine = GeoJSON.asFeature(this.line);\r\n    console.log(\"la linea 2 -> \" + myLine.properties);\r\n    this.created = true;\r\n    this.miMapa = new Map(\"miMapa\").setView([1.12, 12.12], 20);\r\n    tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n      { attribution: 'Map data © <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, <a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>' })\r\n      .addTo(this.miMapa);\r\n    setTimeout(() => {\r\n      this.miMapa.invalidateSize();\r\n    }, 400);\r\n    geoJSON(myLine).addTo(this.miMapa);\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { Tab1Page } from './tab1.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: Tab1Page,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class Tab1PageRoutingModule {}\r\n","import { IonicModule } from '@ionic/angular';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab1Page } from './tab1.page';\r\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\r\n\r\nimport { Tab1PageRoutingModule } from './tab1-routing.module';\r\nimport { MapaComponent } from '../components/mapa/mapa.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ExploreContainerComponentModule,\r\n    Tab1PageRoutingModule\r\n  ],\r\n  declarations: [Tab1Page, MapaComponent]\r\n})\r\nexport class Tab1PageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjEvdGFiMS5wYWdlLnNjc3MifQ== */\";","import { Component, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Map, Polyline, tileLayer } from 'leaflet';\r\nimport { User } from '../model/User';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { HttpService } from '../services/http.service';\r\nimport { PopoverService } from '../services/popover.service';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\n\r\n@Component({\r\n  selector: 'app-tab1',\r\n  templateUrl: 'tab1.page.html',\r\n  styleUrls: ['tab1.page.scss']\r\n})\r\nexport class Tab1Page {\r\n\r\n  private paraTi = true;\r\n  private fotos = false;\r\n  private rutas = false;\r\n  private friends:User[]=[];\r\n  public routes=[];\r\n  public friendsRoutes=[];\r\n  private you:User;\r\n  public mapas:Map[]=[];\r\n  public line:any;\r\n\r\n  constructor(private router:Router,\r\n     private popover:PopoverService,\r\n     private http:HttpService,\r\n     private authS:AuthService,\r\n     private camera:Camera) {\r\n       this.you = this.authS.getUser();\r\n     }\r\n\r\n  \r\n  public pestanaParaTi(){\r\n    if(!this.paraTi){\r\n      this.rutas = false;\r\n      this.fotos = false;\r\n      this.paraTi = true;\r\n      this.getFriends();\r\n    }\r\n  }\r\n\r\n  public pestanaFotos(){\r\n    if(!this.fotos){\r\n      this.rutas = false;\r\n      this.paraTi = false;\r\n      this.fotos = true;\r\n    }\r\n  }\r\n\r\n  public pestanaRutas(){\r\n    if(!this.rutas){\r\n      this.paraTi = false;\r\n      this.fotos = false;\r\n      this.rutas = true;\r\n      this.getOwnRoutes();\r\n      \r\n    }\r\n  }\r\n\r\n  public getOwnRoutes(){\r\n    console.log(\"HOLITAAAS\");\r\n    this.routes = [];\r\n    this.mapas = [];\r\n    this.line = null;\r\n    if(this.you.id != -1){\r\n      this.http.getRoutes(this.you.id).then((data)=>{\r\n        if(data){\r\n          let dat = JSON.parse(data.data);\r\n          if(dat.status == \"0\"){\r\n            //todo ok\r\n            dat.result.forEach(element => {\r\n              let route = {\r\n                title:element.title,\r\n                username:this.you.username,\r\n                avatar:this.you.avatar,\r\n                coordinates:element.coordinates\r\n              }\r\n              console.log(element.coordinates)\r\n              this.routes.push(route);\r\n            });\r\n          }else{\r\n            //toast\r\n            console.error(\"toast\");\r\n          }\r\n        }\r\n      }).catch((err)=>{\r\n        console.error(err);\r\n      });\r\n    }\r\n  }\r\n\r\n  public getFriends(){\r\n    this.friends = [];\r\n    this.http.getFriends(this.you.id).then((data)=>{\r\n      if(data){\r\n        let dat = JSON.parse(data.data);\r\n        if (dat.status == \"0\") {\r\n          //Todo ok\r\n          dat.result.forEach(element => {\r\n            let aux = {\r\n              id:element.id,\r\n              username:element.username,\r\n              avatar:element.avatar\r\n            }\r\n            console.error(\"FRIENDS --> \" + aux.username);\r\n            this.friends.push(aux);\r\n            this.getFriendsRoutes();\r\n          });\r\n        }\r\n      }\r\n    }).catch((err)=>{\r\n      console.error(\"Error en getFriends -> \" +err);\r\n    });\r\n  }\r\n\r\n  public getFriendsRoutes(){\r\n    console.error(\"FRIENDSROUTES\");\r\n    if(this.friends.length > 0){\r\n      console.error(\"FRIENDSROUTES 1if\");\r\n      this.friends.forEach((friend)=>{\r\n        console.error(\"FRIENDSROUTES FOR\");\r\n        this.http.getRoutes(friend.id).then((data)=>{\r\n          console.error(\"FRIENDSROUTES HTTP\");\r\n          if(data){\r\n            console.error(\"FRIENDSROUTES DATA\");\r\n            let dat = JSON.parse(data.data);\r\n            if(dat.status == \"0\"){\r\n              //todo ok\r\n              console.error(\"FRIENDSROUTES OK\");\r\n              let route = {\r\n                title:dat.result.title,\r\n                username:friend.username,\r\n                avatar:friend.avatar,\r\n                coordinates:dat.result.coordinates\r\n              }\r\n              console.error(\"FRIENDSROUTES \" + route.title);\r\n              this.friendsRoutes.push(route);\r\n            }else{\r\n              //toast\r\n            }\r\n          }\r\n        }).catch((err)=>{\r\n          //toast\r\n          console.error(\"ERROR OBTENIENDO RUTAS \" + err);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  public async showPopover(ev){\r\n    this.popover.createPopover(ev);\r\n  }\r\n\r\n  \r\n\r\n}\r\n"]}
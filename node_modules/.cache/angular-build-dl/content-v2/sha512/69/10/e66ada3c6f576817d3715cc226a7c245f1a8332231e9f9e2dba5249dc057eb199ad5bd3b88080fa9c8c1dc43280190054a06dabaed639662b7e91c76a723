{"version":3,"sources":["webpack:///src/app/tab4/tab4.page.html","webpack:///src/app/services/http.service.ts","webpack:///src/app/services/loading.service.ts","webpack:///src/app/services/toast.service.ts","webpack:///src/app/tab4/tab4-routing.module.ts","webpack:///src/app/tab4/tab4.module.ts","webpack:///src/app/tab4/tab4.page.scss","webpack:///src/app/tab4/tab4.page.ts"],"names":["HttpService","http","ip","apiKey","username","pass","url","post","get","id","id_user","password","photo","idUser1","idUser2","status","idUser","title","coordinates","level","description","image","idPhoto","idRoute","avatar","put","id2","idFriend","id_route","providedIn","LoadingService","loadingC","msg","create","message","spinner","mode","translucent","loading","present","onDidDismiss","role","data","dismiss","ToastService","toast","animation","time","color","animated","duration","position","cToast","routes","path","component","Tab4PageRoutingModule","imports","forChild","exports","Tab4PageModule","declarations","Tab4Page","authS","router","camera","Http","isLoading","usuario","getUser","getCountRoutes","nRoutes","then","dat","JSON","parse","result","forEach","element","rutas","err","logout","isLogged","navigate","undefined","myphoto","$event","userAvatar","target","files","updateUserAvatar","formData","FormData","append","filename","createLoading","setDataSerializer","saveUser","createToastBottom","cancelLoading","console","log","selector","template"],"mappings":"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","file":"tab4-tab4-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar class=\\\"background-toolbar\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button menu=\\\"menu-main\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"this.logout()\\\">\\n        <ion-icon name=\\\"log-out-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-title class=\\\"textColor\\\">\\n      Perfil\\n    </ion-title>\\n  </ion-toolbar>\\n  <ion-card color=\\\"light\\\">\\n    <div class=\\\"img-wrapper\\\">\\n      <img src=\\\"{{this.usuario.avatar}}\\\" onError=\\\"this.onError=null;this.src='assets/icon/usuario.svg';\\\">\\n    </div>\\n    <ion-card-content class=\\\"ion-text-center\\\">\\n      <h2 style=\\\"margin-top: 5%;\\\" class=\\\"textColor\\\">{{this.usuario.username}}</h2>\\n    </ion-card-content>\\n  </ion-card>\\n\\n\\n  <div style=\\\"text-align: center; border: none; margin-bottom: 5%;\\\">\\n    <ion-label>Cambiar avatar</ion-label>\\n  </div>\\n  <div style=\\\"text-align: center;\\\">\\n    <ion-button class=\\\"background-button\\\">\\n      <ion-icon name=\\\"image\\\"></ion-icon>\\n      <input type=\\\"file\\\" accept=\\\"image/*\\\" id=\\\"botonAvatar\\\" (change)=\\\"onFileSelected($event)\\\">\\n    </ion-button>\\n  </div>\";","import { Injectable } from '@angular/core';\nimport { HTTP, HTTPResponse } from '@ionic-native/http/ngx';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n\n  public ip = \"https://fishingtrack.duckdns.org:3022/fishingtrack\";\n  apiKey = \"HS$TF{nasiRYDk@#\";\n\n  constructor(private http: HTTP) { }\n\n  //GET methods\n\n  public getUser(username: string, pass: string): Promise<HTTPResponse> {\n    let url = this.ip + '/user';\n    return this.http.post(url, { 'username': username, 'password': pass }, { 'apikey': this.apiKey });\n  }\n\n  public getUserByUsername(username: string): Promise<HTTPResponse> {\n    let url = this.ip + '/user/' + username;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getFriends(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/friend/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getFriendRequest(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/friends/request/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getRoutes(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getCountRoutes(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/routes/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getPhotos(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/' + id;\n    return this.http.get(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public getLikes(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/likes';\n    return this.http.post(url, { 'id_route': id }, { 'apikey': this.apiKey });\n  }\n\n  public getLike(id: any, id_user:any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/user/like';\n    return this.http.post(url, { 'id_route': id, 'id_user': id_user}, { 'apikey': this.apiKey });\n  }\n\n  //POST methods\n\n  public addUser(username: string, password: string): Promise<HTTPResponse> {\n    let url = this.ip + '/user/register';\n    return this.http.post(url, { 'username': username, 'password': password }, { 'apikey': this.apiKey });\n  }\n\n  public addAvatar(photo: string, id:any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/avatar';\n    return this.http.post(url, {'avatar': photo, 'id':id}, { 'apikey': this.apiKey });\n  }\n\n  public addFriendRequest(idUser1: any, idUser2: any, status: number): Promise<HTTPResponse> {\n    let url = this.ip + '/user/friends/request';\n    return this.http.post(url, { 'idUser1': idUser1, 'idUser2': idUser2, 'friendStatus': status }, { 'apikey': this.apiKey });\n  }\n\n  public addRoute(idUser: any, title: string, coordinates: any, level:any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/add';\n    return this.http.post(url, { 'idUser': idUser, 'title': title, 'coordinates': coordinates, 'level': level }, { 'apikey': this.apiKey });\n  }\n\n  public addPhoto(idUser: any, title: string, description: any, image: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/add';\n    return this.http.post(url, { 'idUser': idUser, 'title': title, 'description': description, 'url': image }, { 'apikey': this.apiKey });\n  }\n\n  public addPhotoToRoute(idPhoto: any, idRoute: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/newPhoto';\n    return this.http.post(url, { 'idPhoto': idPhoto, 'idRoute': idRoute }, { 'apikey': this.apiKey });\n  }\n\n  public addLike(idRoute: any, idUser: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/like';\n    return this.http.post(url, { 'id_route': idRoute, 'id_user': idUser }, { 'apikey': this.apiKey });\n  }\n\n  public avatar(id_user, avatar): Promise<HTTPResponse> {\n    let url = this.ip + '/user/' + id_user + \"/avatar\";\n    return this.http.post(url, avatar, { 'apikey': this.apiKey });\n  }\n\n  //PUT methods\n\n  public updateUser(password: string, username: string): Promise<HTTPResponse> {\n    let url = this.ip + '/user/profile/update';\n    return this.http.put(url, { 'password': password, 'username': username }, { 'apikey': this.apiKey });\n  }\n\n  public updateFriend(id: any, status: number, id2: any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/friends/update';\n    return this.http.put(url, { 'id': id, 'friendStatus': status, 'id2': id2 }, { 'apikey': this.apiKey });\n  }\n\n  public updateRoute(id: any, title: string, level:number): Promise<HTTPResponse> {\n    let url = this.ip + '/route/update';\n    return this.http.put(url, { 'id': id, 'title': title, 'level': level }, { 'apikey': this.apiKey });\n  }\n\n  public updatePhoto(id: any, title: string, description: string): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/update';\n    return this.http.put(url, { 'id': id, 'title': title, 'description': description }, { 'apikey': this.apiKey });\n  }\n\n  //DELETE methods\n\n  public deleteUser(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/remove/account/' + id;\n    return this.http.delete(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public deleteFriend(id: any, idFriend: any): Promise<HTTPResponse> {\n    let url = this.ip + '/user/' + id + '/friend/' + idFriend;\n    return this.http.delete(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public deleteRoute(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/remove/' + id;\n    return this.http.delete(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public deletePhoto(id: any): Promise<HTTPResponse> {\n    let url = this.ip + '/photo/remove/' + id;\n    return this.http.delete(url, {}, { 'apikey': this.apiKey });\n  }\n\n  public deleteLike(id_route: any, id_user: any): Promise<HTTPResponse> {\n    let url = this.ip + '/route/like';\n    return this.http.delete(url, { 'id_route': id_route, 'id_user': id_user }, { 'apikey': this.apiKey });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingService {\n\n  constructor(private loadingC: LoadingController) { }\n\n  public async createLoadingMsg(msg:string){\n    const loading = await this.loadingC.create({\n      message: msg,\n      spinner: 'dots',\n      mode: 'ios',\n      translucent: true\n    });\n\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n  }\n\n  public async createLoading(){\n    const loading = await this.loadingC.create({\n      spinner: 'dots',\n      mode: 'ios',\n      translucent: true\n    });\n\n    await loading.present();\n  }\n\n  public cancelLoading(){\n    this.loadingC.dismiss();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ToastService {\n\n  constructor(private toast: ToastController) { }\n\n  public async createToastTop(msg:string, animation:boolean, time:number, color:string){\n    let cToast = await this.toast.create({\n      message: msg,\n      animated: animation,\n      duration: time,\n      position: \"top\",\n      color: color,\n      mode: \"ios\"\n    });\n    await cToast.present();\n  }\n\n  public async createToastBottom(msg:string, animation:boolean, time:number, color:string){\n    let cToast = await this.toast.create({\n      message: msg,\n      animated: animation,\n      duration: time,\n      position: 'bottom',\n      color: color,\n      mode: \"ios\"\n    });\n    await cToast.present();\n  }\n\n  public async createToastMiddle(msg:string, animation:boolean, time:number, color:string){\n    let cToast = await this.toast.create({\n      message: msg,\n      animated: animation,\n      duration: time,\n      position: 'middle',\n      color: color,\n      mode: \"ios\"\n    });\n    await cToast.present();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { Tab4Page } from './tab4.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab4Page\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class Tab4PageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { Tab4PageRoutingModule } from './tab4-routing.module';\n\nimport { Tab4Page } from './tab4.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    Tab4PageRoutingModule\n  ],\n  declarations: [Tab4Page]\n})\nexport class Tab4PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjQvdGFiNC5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User } from '../model/User';\nimport { AuthService } from '../services/auth.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { HttpService } from '../services/http.service';\nimport { ToastService } from '../services/toast.service';\nimport { LoadingService } from '../services/loading.service';\nimport { HTTP } from '@ionic-native/http/ngx';\n\n\n@Component({\n  selector: 'app-tab4',\n  templateUrl: './tab4.page.html',\n  styleUrls: ['./tab4.page.scss'],\n})\nexport class Tab4Page implements OnInit {\n\n  usuario: User;\n  nRoutes: number;\n  myphoto: any;\n  userAvatar:any;\n  isLoading = false;\n\n  constructor(\n    private toast: ToastService,\n    private authS: AuthService,\n    private router: Router,\n    private loading: LoadingService,\n    private camera: Camera,\n    private http: HttpService,\n    private Http: HTTP) {\n    this.usuario = authS.getUser();\n  }\n\n  ngOnInit() {\n    this.avatar();\n    this.getCountRoutes();\n  }\n\n  public getCountRoutes() {\n    this.nRoutes = 0;\n    this.http.getCountRoutes(this.usuario.id).then((data) => {\n      if (data) {\n        let dat = JSON.parse(data.data);\n        if (dat.status == \"0\") {\n          dat.result.forEach(element => {\n            this.nRoutes = element.rutas\n          });\n        }\n      }\n    }).catch((err) => { });\n  }\n\n  public async logout() {\n    await this.authS.logout();\n    if (!this.authS.isLogged()) {\n      this.router.navigate(['/welcome'])\n    }\n  }\n\n  public avatar() {\n    if (this.usuario.avatar == undefined || this.usuario.avatar == \"\") {\n      this.myphoto = \"assets/icon/usuario.svg\";\n    } else {\n      this.myphoto = \"https://fishingtrack.duckdns.org:3022/avatar/\"+this.usuario.avatar;\n    }\n  }\n\n\n  public async onFileSelected($event) {\n    this.userAvatar = $event.target.files[0];\n    await this.updateUserAvatar();\n  }\n\n  public async updateUserAvatar() {\n    let formData: FormData = new FormData();\n    formData.append('avatar',this.userAvatar,this.userAvatar.filename);\n    await this.loading.createLoading();\n    this.Http.setDataSerializer('multipart');\n    this.http.avatar(this.authS.getUser().id, formData).then(async (data) => {\n      let dat = JSON.parse(data.data);\n      if(dat.status == \"1\"){\n        this.usuario.avatar = dat.result\n        await this.authS.saveUser(this.usuario);\n        await this.toast.createToastBottom(\"Se ha actualizado la foto de perfil\",true, 350 ,\"success\");\n      } else {\n        await this.toast.createToastBottom(\"No se ha podido actualizar la foto\", true, 350,\"danger\");\n      }\n      await this.loading.cancelLoading();\n    }).catch(async (err) => {\n      console.log(err);\n      await this.loading.cancelLoading();\n    });\n    this.Http.setDataSerializer('urlencoded');\n  }\n\n}\n"]}
{"version":3,"sources":["./src/app/tab3/tab3.page.html","./src/app/services/background-geo.service.ts","./src/app/tab3/tab3-routing.module.ts","./src/app/tab3/tab3.module.ts","./src/app/tab3/tab3.page.scss","./src/app/tab3/tab3.page.ts"],"names":[],"mappings":"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","file":"tab3-tab3-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\r\\n  <ion-toolbar class=\\\"background-toolbar\\\">\\r\\n    <ion-title class=\\\"textColor\\\">\\r\\n      Ruta\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content [fullscreen]=\\\"true\\\">\\r\\n  <div id=\\\"mapa\\\" style=\\\"height: 75%; width: 150%;\\\"></div>\\r\\n  <div class=\\\"changeButton\\\">\\r\\n    <button style=\\\"background-color: transparent; max-width: 125px; max-height: 125px;\\\" block (click)=\\\"this.changeButton()\\\" >\\r\\n      <ion-img src=\\\"assets/buttons/play.png\\\" *ngIf=\\\"this.change\\\"></ion-img>\\r\\n      <ion-img src=\\\"assets/buttons/stop.png\\\" *ngIf=\\\"!this.change\\\"></ion-img>\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\";","import { Injectable } from '@angular/core';\r\nimport { BackgroundGeolocation, BackgroundGeolocationConfig, BackgroundGeolocationEvents, BackgroundGeolocationLocationProvider, BackgroundGeolocationProvider, BackgroundGeolocationResponse } from '@ionic-native/background-geolocation/ngx';\r\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Map, Polyline, tileLayer } from 'leaflet';\r\nimport { addListener } from 'process';\r\nimport { User } from '../model/User';\r\nimport { AuthService } from './auth.service';\r\nimport { HttpService } from './http.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class BackgroundGeoService {\r\n\r\n  line: any;\r\n  flag = true;\r\n  polyline: Polyline;\r\n  mapa: Map;\r\n  coordinates:{\r\n    lat:any,\r\n    lng:any\r\n  };\r\n  user: User;\r\n  route: {\r\n    id: any,\r\n    title: string,\r\n    polyline: any\r\n  };\r\n  i: number = 0;\r\n  created = false;\r\n\r\n  config: BackgroundGeolocationConfig = {\r\n    desiredAccuracy: 10,\r\n    stationaryRadius: 20,\r\n    distanceFilter: 5,\r\n    debug: false, //  Activa un sonido mientras este activa, para poder comprobar su funcionamiento\r\n    stopOnTerminate: true, // borrar configuracion cuando la app termine(true)\r\n    notificationText:\"Localizacion activada...\",\r\n    locationProvider: BackgroundGeolocationLocationProvider.RAW_PROVIDER,\r\n    startForeground: true,\r\n    interval: 2000,\r\n    fastestInterval: 1000\r\n  };\r\n\r\n\r\n  constructor(private geolocation: BackgroundGeolocation,\r\n    private storage: NativeStorage,\r\n    private http: HttpService,\r\n    private alert: AlertController,\r\n    private authS: AuthService) {\r\n      this.setDefaultPolyline();\r\n    this.user = this.authS.getUser();\r\n  }\r\n\r\n  public setDefaultPolyline(){\r\n    this.coordinates={\r\n      lat: null,\r\n      lng: null\r\n    }\r\n    if(!this.created){\r\n      this.polyline = new Polyline([], {\r\n        color: \"red\",\r\n        opacity: 0.5,\r\n        weight: 2.5\r\n      });\r\n    }else{\r\n      this.polyline = new Polyline([], {\r\n        color: \"red\",\r\n        opacity: 0.5,\r\n        weight: 2.5\r\n      }).addTo(this.mapa);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  gps = this.geolocation.configure(this.config).then((response: BackgroundGeolocationResponse) => {\r\n    console.log(response);\r\n    this.geolocation.on(BackgroundGeolocationEvents.location).subscribe((location: BackgroundGeolocationResponse) => {\r\n\r\n      if (!this.flag) {\r\n        this.coordinates = {\r\n          lat: location.latitude,\r\n          lng: location.longitude\r\n        }\r\n        if (this.coordinates && this.created) {\r\n          this.drawPolyline(this.coordinates);\r\n          this.mapa.setView(this.coordinates);\r\n        }\r\n      }\r\n        \r\n    });\r\n    this.geolocation.start();\r\n    //this.geolocation.finish(); // SOLO IOS\r\n  });\r\n\r\n\r\n  public startBackgroundGeolocation() {\r\n    this.geolocation.start();\r\n    this.flag = false;\r\n  }\r\n\r\n  public async stopBackgroundGeolocation() {\r\n    this.geolocation.stop();\r\n    const alert = await this.alert.create({\r\n      cssClass: \"custom\",\r\n      header: \"Guardar Ruta\",\r\n      subHeader:\"Titulo de esta ruta\",\r\n      inputs: [\r\n        {\r\n          name: \"title\",\r\n          type: \"text\",\r\n          placeholder: \"TÃ­tulo\",\r\n          id: \"routeTitle\"\r\n        }\r\n      ],\r\n      buttons: [\r\n        {\r\n          text: \"No\",\r\n          role: \"cancel\",\r\n          handler: () => {\r\n            this.mapa.removeLayer(this.polyline);\r\n            this.setDefaultPolyline();\r\n          }\r\n        },\r\n        {\r\n          text: \"Si\",\r\n          handler: (data) => {\r\n            this.saveRoute(data.title);\r\n            this.mapa.removeLayer(this.polyline);\r\n            this.setDefaultPolyline();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n    this.flag = true;\r\n  }\r\n\r\n  public saveRoute(title) {\r\n    let input = this.polyline.toGeoJSON();\r\n      this.http.addRoute(this.user.id, title, input).then((data)=>{\r\n        if (data) {\r\n          let dat = JSON.parse(data.data);\r\n          if (dat.status == \"0\") {\r\n            //Todo ok\r\n            this.setDefaultPolyline();\r\n          } else {\r\n            //Error buscando usuario\r\n            console.error(dat.result);\r\n          }\r\n        }\r\n      }).catch(err=>{\r\n        console.error(err);\r\n      });\r\n    }\r\n\r\n  public drawPolyline(location) {\r\n    console.log(location);\r\n    this.polyline.addTo(this.mapa);\r\n    this.polyline.addLatLng(location);\r\n  }\r\n\r\n  public createMap() {\r\n    this.created = true;\r\n    this.mapa = new Map(\"mapa\").locate({ setView: true, maxZoom: 20 });\r\n    tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n    }).addTo(this.mapa);\r\n    setTimeout(() => {\r\n      this.mapa.invalidateSize();\r\n    }, 400);\r\n    return this.mapa;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { Tab3Page } from './tab3.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: Tab3Page,\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class Tab3PageRoutingModule {}\r\n","import { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Tab3Page } from './tab3.page';\r\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\r\n\r\nimport { Tab3PageRoutingModule } from './tab3-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ExploreContainerComponentModule,\r\n    RouterModule.forChild([{ path: '', component: Tab3Page }]),\r\n    Tab3PageRoutingModule,\r\n  ],\r\n  declarations: [Tab3Page]\r\n})\r\nexport class Tab3PageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjMvdGFiMy5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\r\nimport { Map, Polyline, tileLayer } from 'leaflet';\r\nimport { BackgroundGeoService } from '../services/background-geo.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-tab3',\r\n  templateUrl: 'tab3.page.html',\r\n  styleUrls: ['tab3.page.scss']\r\n})\r\nexport class Tab3Page implements OnInit {\r\n\r\n  mapa: Map\r\n  marcador: any\r\n  latlngs: any\r\n  cargaMapa = false\r\n  linea = undefined;\r\n  newLat: any\r\n  newLong: any\r\n  polyline:Polyline;\r\n  change: boolean = true;\r\n  button = \"assets/buttons/play.png\";\r\n\r\n  constructor(\r\n    private location: BackgroundGeoService,\r\n    private storage: NativeStorage) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (!this.cargaMapa) {\r\n      this.vistaMapa();\r\n    }\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    if (!this.cargaMapa) {\r\n      this.vistaMapa();\r\n    }\r\n  }\r\n\r\n\r\n  public async vistaMapa() {\r\n    this.cargaMapa = true;\r\n    this.mapa = this.location.createMap();\r\n  }\r\n\r\n  public async refreshRoute() {\r\n    if (this.cargaMapa)\r\n      this.location.line.addTo(this.mapa);\r\n  }\r\n\r\n\r\n  public startLocation() {\r\n    this.location.startBackgroundGeolocation();\r\n\r\n  }\r\n\r\n  public stopLocation() {\r\n    this.location.stopBackgroundGeolocation();\r\n  }\r\n\r\n  public changeButton(){\r\n    if(this.change){\r\n      this.startLocation();\r\n      this.change = false;\r\n    }else{\r\n      this.change = true;\r\n      this.stopLocation();\r\n    }\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}